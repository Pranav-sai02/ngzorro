<div
  class="sidebar"
  [class.collapsed]="isCollapsed"
  (mouseenter)="isCollapsed = false"
  (mouseleave)="isCollapsed = true"
>
  <!-- Logo -->
  <div class="logo">
    <div class="logo-text">
      <span class="fusion"></span>
      <span class="edge" *ngIf="!isCollapsed">FusionEdge</span>
    </div>
  </div>

  <!-- Menu -->
  <div class="sidebar_menu">
    <!-- Top-level menu items (e.g., Home, Dashboard) -->
    <div
      class="menu-item"
      *ngFor="let item of topLevelMenuItems"
      [routerLink]="['/' + item.MenuViewName.toLowerCase()]"
      routerLinkActive="active"
    >
      <img
        class="icon-img"
        [src]="'assets/icons/' + (item.Icon || 'default.png')"
        [alt]="item.DisplayName + ' Icon'"
      />
      <span class="label">{{ item.DisplayName }}</span>
    </div>

    <!-- Grouped menu items -->
    <ng-container *ngFor="let section of groupedMenu | keyvalue">
      <hr class="group-divider" />

      <!-- Section title (hidden when collapsed) -->
      <div class="section-title" *ngIf="!isCollapsed">
        {{ section.key }}
      </div>

      <!-- Menu items within group -->
       D
      <div
        class="menu-item"
        *ngFor="let item of section.value"
        [routerLink]="['/' + item.MenuViewName.toLowerCase()]"
        routerLinkActive="active"
      >
        <img
          class="icon-img"
          [src]="'assets/icons/' + (item.Icon || 'default.png')"
          [alt]="item.DisplayName + ' Icon'"
        />
        <span class="label">{{ item.DisplayName }}</span>
      </div>
    </ng-container>
  </div>
</div>
